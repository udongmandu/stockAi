#!/bin/bash

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Python 3 ì„¤ì¹˜ í™•ì¸
if ! command -v python3 &> /dev/null
then
    echo "âŒ Python 3ì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ì„¤ì¹˜ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”."
    exit 1
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# pip ìµœì‹ í™”
echo "ğŸ”„ pip ì„¤ì¹˜ ë° ì—…ê·¸ë ˆì´ë“œ..."
python3 -m ensurepip --default-pip
python3 -m pip install --upgrade pip

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# requirements.txtë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
echo "ğŸ“¦ requirements.txt ê¸°ë°˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜..."
python3 -m pip install -r requirements.txt

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ì‹¤í–‰í•  Streamlit íŒŒì¼ëª… ì„¤ì •
FILE="stockTest.py"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Streamlit ì•± ì‹¤í–‰
echo "ğŸš€ Streamlit ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì¢…ë£Œí•˜ë ¤ë©´ Ctrl+C ëˆ„ë¥´ì„¸ìš”."
python3 -m streamlit run "$FILE"
